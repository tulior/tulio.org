---
import BaseLayout from './BaseLayout.astro';
import Navbar from '../components/Navbar.svelte';

const { frontmatter } = Astro.props;
---

<BaseLayout title={frontmatter.title} description={frontmatter.description}>
    <Navbar client:load />

    <main class="pt-24 max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
        <article class="bg-white shadow-lg rounded-3xl p-6 sm:p-8 lg:p-12">
            <div class="prose prose-lg
                    prose-slate
                    prose-headings:text-blue-600
                    prose-a:text-blue-600
                    prose-a:hover:underline
                    prose-strong:text-gray-900
                    prose-pre:bg-gray-800/90 prose-pre:text-gray-200 prose-pre:rounded-md prose-pre:p-4 prose-pre:overflow-x-auto
                    prose-code:before:content-none prose-code:after:content-none
                    prose-img:rounded-lg prose-img:shadow-md
                    ">
                {frontmatter.image && (
                  <img
                    src={frontmatter.image.src}
                    alt={frontmatter.image.alt}
                    class="w-full rounded-lg shadow-lg mb-8"
                    loading="lazy"
                  />
                )}
                <h1 class="text-4xl sm:text-5xl font-extrabold text-blue-600 mb-4 tracking-tight">{frontmatter.title}</h1>
                <div class="flex items-center text-gray-500 mb-8">
                    <time>
                        {new Date(frontmatter.date).toLocaleDateString('en-US', {
                            year: 'numeric',
                            month: 'long',
                            day: 'numeric',
                            timeZone: 'UTC',
                        })}
                    </time>
                    {frontmatter.author && (
                      <>
                          <span class="mx-2">/</span>
                          <span>{frontmatter.author}</span>
                      </>
                    )}
                    {frontmatter.tags && (
                      <>
                          <span class="mx-2">/</span>
                          <div class="flex gap-x-2">
                              {frontmatter.tags.map((tag: string) => (
                                <span class="bg-blue-100 text-blue-600 px-2.5 py-0.5 rounded text-sm font-medium">{tag}</span>
                              ))}
                          </div>
                      </>
                    )}
                </div>
                <slot />
            </div>
        </article>
    </main>
</BaseLayout>