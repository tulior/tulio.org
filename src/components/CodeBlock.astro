---
// CodeBlock.astro
import Prism from 'prismjs';
import loadLanguages from 'prismjs/components/index.js';

// Load the desired language(s); here we load C#
loadLanguages(['csharp']);

const { code, language = 'markup' } = Astro.props;
const grammar = Prism.languages[language] || Prism.languages.markup;
const highlighted = Prism.highlight(code, grammar, language);
---
<pre class="font-mono text-xs bg-[var(--color-surface)] p-4 rounded overflow-x-auto">
  <code class={`language-${language}`} set:html={highlighted}></code>
</pre>
