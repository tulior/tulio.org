---
const currentPath = Astro.url.pathname;
const isActive = (path) => currentPath === path;
---
<header class="fixed top-0 left-0 w-full z-50 bg-[var(--color-surface)]/80 backdrop-blur-sm shadow-xs">
    <nav class="max-w-7xl mx-auto px-6 py-4 flex justify-between items-center">
        <!-- Logo/Brand -->
        <a href="/" class="text-2xl font-bold text-primary hover:text-secondary transition-colors">
            Home
        </a>
        <!-- Desktop Menu (hidden on mobile) -->
        <ul class="hidden md:flex items-center space-x-6">
            <li>
                <a
                  href="/resume"
                  class={`text-lg font-medium transition-colors ${isActive('/resume') ? 'text-primary' : 'text-text-primary hover:text-primary'}`}
                >
                    Resume
                </a>
            </li>
            <li>
                <a
                  href="/blog"
                  class={`text-lg font-medium transition-colors ${isActive('/blog') ? 'text-primary' : 'text-text-primary hover:text-primary'}`}
                >
                    Blog
                </a>
            </li>
            <li>
                <a
                  href="mailto:mail@tulio.org"
                  class="px-4 py-2 border border-primary rounded-full text-primary font-mono hover:bg-secondary hover:border-secondary hover:text-[var(--color-surface)] transition-colors"
                >
                    Contact
                </a>
            </li>
        </ul>
        <!-- Hamburger Icon (visible only on mobile) -->
        <button id="menu-toggle" class="md:hidden focus:outline-none">
            <svg class="w-6 h-6 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M4 6h16M4 12h16M4 18h16" />
            </svg>
        </button>
    </nav>
    <!-- Mobile Menu (hidden by default) -->
    <div id="mobile-menu" class="md:hidden hidden">
        <ul class="px-6 py-4 space-y-4 bg-[var(--color-surface)]">
            <li>
                <a
                  href="/resume"
                  class={`block text-lg font-medium transition-colors ${isActive('/resume') ? 'text-primary' : 'text-text-primary hover:text-primary'}`}
                >
                    Resume
                </a>
            </li>
            <li>
                <a
                  href="/blog"
                  class={`block text-lg font-medium transition-colors ${isActive('/blog') ? 'text-primary' : 'text-text-primary hover:text-primary'}`}
                >
                    Blog
                </a>
            </li>
            <li>
                <a
                  href="mailto:mail@tulio.org"
                  class="block px-4 py-2 border border-primary rounded-full text-primary font-mono hover:bg-secondary hover:border-secondary hover:text-[var(--color-surface)] transition-colors"
                >
                    Contact
                </a>
            </li>
        </ul>
    </div>
</header>

<!-- Toggle Script -->
<script>
    document.addEventListener('DOMContentLoaded', () => {
        const menuToggle = document.getElementById('menu-toggle');
        const mobileMenu = document.getElementById('mobile-menu');
        menuToggle.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
        });
    });
</script>
